<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base64 Image Converter | SilenVault</title>
    <meta name="description" content="Two-way Base64 converter. Encode images to Base64 strings or decode strings back to images instantly. Developer-friendly.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="../assets/js/layout.js" defer></script>
    
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #020617; color: #e2e8f0; }
        .glass-panel { background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(12px); border: 1px solid rgba(51, 65, 85, 0.5); }
        .code-area { font-family: 'Menlo', 'Monaco', 'Courier New', monospace; }
        
        /* Custom Scrollbar for code block */
        textarea::-webkit-scrollbar { width: 8px; height: 8px; }
        textarea::-webkit-scrollbar-track { background: #0f172a; }
        textarea::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
        textarea::-webkit-scrollbar-thumb:hover { background: #475569; }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <sv-header base-path=".."></sv-header>

    <main class="flex-1 max-w-7xl mx-auto w-full px-4 py-12 flex flex-col lg:flex-row gap-8">
        
        <div class="flex-1 space-y-8">
            <div class="text-center mb-8">
                <h1 class="text-3xl md:text-5xl font-bold text-white mb-4 tracking-tight">
                    Base64 <span class="text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-400">Engine</span>
                </h1>
                <p class="text-slate-400 max-w-lg mx-auto">
                    Convert Images to Data URI strings and back.
                    <span class="text-violet-400 font-bold text-xs uppercase tracking-wider border border-violet-500/20 px-2 py-0.5 rounded ml-2">Dev Tool</span>
                </p>
            </div>

            <div class="glass-panel rounded-2xl p-6 border-violet-500/20">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-bold text-white flex items-center gap-2">
                        <span class="bg-violet-500/20 text-violet-300 p-2 rounded-lg">
                            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
                        </span>
                        Image to Base64
                    </h2>
                    <span class="text-xs text-slate-500 uppercase tracking-wider">Encoder</span>
                </div>

                <div class="flex flex-col md:flex-row gap-6">
                    <div id="dropZone" class="flex-1 h-48 border-2 border-dashed border-slate-700 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-violet-500 hover:bg-violet-500/5 transition-all" onclick="document.getElementById('fileInput').click()">
                        <input type="file" id="fileInput" accept="image/*" class="hidden" onchange="handleFile(this.files[0])">
                        <svg class="w-8 h-8 text-slate-500 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" /></svg>
                        <span class="text-sm text-slate-400 font-medium">Click to Upload Image</span>
                    </div>

                    <div class="flex-1 relative">
                        <textarea id="outputBase64" class="w-full h-48 bg-slate-900 border border-slate-700 rounded-xl p-4 text-xs text-slate-300 code-area focus:outline-none focus:border-violet-500 resize-none" placeholder="Base64 string will appear here..." readonly></textarea>
                        <button onclick="copyString()" class="absolute bottom-4 right-4 bg-violet-600 hover:bg-violet-500 text-white text-xs font-bold px-4 py-2 rounded-lg shadow-lg transition-all flex items-center gap-2">
                            <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" /></svg>
                            Copy
                        </button>
                    </div>
                </div>
            </div>

            <div class="glass-panel p-4 rounded-2xl flex flex-col items-center justify-center min-h-[120px]">
                <span class="text-[10px] uppercase tracking-widest text-slate-600 mb-2">Sponsored</span>
                <ins class="adsbygoogle"
                     style="display:block; width: 100%;"
                     data-ad-client="ca-pub-5449371042798610"
                     data-ad-slot="7594122081"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
                <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
            </div>

            <div class="glass-panel rounded-2xl p-6 border-fuchsia-500/20">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-bold text-white flex items-center gap-2">
                        <span class="bg-fuchsia-500/20 text-fuchsia-300 p-2 rounded-lg">
                            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" /></svg>
                        </span>
                        Base64 to Image
                    </h2>
                    <span class="text-xs text-slate-500 uppercase tracking-wider">Decoder</span>
                </div>

                <div class="flex flex-col md:flex-row gap-6">
                    <div class="flex-1">
                        <textarea id="inputBase64" class="w-full h-48 bg-slate-900 border border-slate-700 rounded-xl p-4 text-xs text-slate-300 code-area focus:outline-none focus:border-fuchsia-500 resize-none" placeholder="Paste Base64 string here (data:image/...)" oninput="decodeString()"></textarea>
                    </div>

                    <div class="flex-1 h-48 bg-slate-900/50 rounded-xl border border-slate-800 flex flex-col items-center justify-center relative overflow-hidden group">
                        <img id="previewImg" class="max-w-full max-h-full object-contain hidden">
                        <div id="previewPlaceholder" class="text-slate-600 text-xs">Preview Area</div>
                        
                        <a id="downloadBtn" href="#" download="image.png" class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center backdrop-blur-sm hidden">
                            <span class="bg-white text-slate-900 px-4 py-2 rounded-lg font-bold text-xs flex items-center gap-2">
                                <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" /></svg>
                                Download File
                            </span>
                        </a>
                    </div>
                </div>
            </div>

        </div>

        <aside class="w-full lg:w-80 flex flex-col gap-6 shrink-0">
            <div class="glass-panel p-6 rounded-2xl">
                <h3 class="font-bold text-white mb-4">Quick Guide</h3>
                <ul class="text-sm text-slate-400 space-y-4">
                    <li class="flex gap-3">
                        <span class="text-violet-400 font-bold">Why?</span>
                        <span>Embed images directly in HTML/CSS to reduce HTTP requests.</span>
                    </li>
                    <li class="flex gap-3">
                        <span class="text-fuchsia-400 font-bold">Size</span>
                        <span>Base64 strings are ~33% larger than the original binary file.</span>
                    </li>
                    <li class="flex gap-3">
                        <span class="text-emerald-400 font-bold">Format</span>
                        <span>Supports PNG, JPG, WebP, GIF, and SVG.</span>
                    </li>
                </ul>
            </div>

            <div class="glass-panel p-4 rounded-2xl flex flex-col items-center justify-center min-h-[600px] sticky top-24">
                <span class="text-[10px] uppercase tracking-widest text-slate-600 mb-2">Partner</span>
                <ins class="adsbygoogle"
                     style="display:block; width: 100%; height: 100%;"
                     data-ad-client="ca-pub-5449371042798610"
                     data-ad-slot="9264203071"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
                <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
            </div>
        </aside>

    </main>

    <sv-footer base-path=".."></sv-footer>

    <script>
        // ENCODER LOGIC
        function handleFile(file) {
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const base64 = e.target.result;
                document.getElementById('outputBase64').value = base64;
                
                // Visual Feedback
                const dropZone = document.getElementById('dropZone');
                dropZone.style.borderColor = '#8b5cf6'; // Violet-500
                dropZone.querySelector('span').innerText = file.name;
            };
            reader.readAsDataURL(file);
        }

        function copyString() {
            const textarea = document.getElementById('outputBase64');
            textarea.select();
            document.execCommand('copy');
            
            const btn = event.currentTarget;
            const originalHTML = btn.innerHTML;
            btn.innerHTML = `<span class="text-emerald-300">Copied!</span>`;
            setTimeout(() => btn.innerHTML = originalHTML, 2000);
        }

        // DECODER LOGIC
        function decodeString() {
            const input = document.getElementById('inputBase64').value.trim();
            const preview = document.getElementById('previewImg');
            const placeholder = document.getElementById('previewPlaceholder');
            const downloadBtn = document.getElementById('downloadBtn');

            if (input.startsWith('data:image')) {
                preview.src = input;
                preview.classList.remove('hidden');
                placeholder.classList.add('hidden');
                
                downloadBtn.href = input;
                downloadBtn.classList.remove('hidden');
                
                // Guess extension for download
                const ext = input.substring(input.indexOf('/') + 1, input.indexOf(';'));
                downloadBtn.download = `decoded_image.${ext}`;
            } else {
                preview.classList.add('hidden');
                placeholder.classList.remove('hidden');
                downloadBtn.classList.add('hidden');
            }
        }
    </script>
</body>
</html>
